<? namespace Bitrix\Landing;$GLOBALS['____1878841766']= array(base64_decode('ZGV'.'maW5l'),base64_decode(''.'ZXhwb'.'G9kZQ'.'=='),base64_decode(''.'c'.'GF'.'jaw=='),base64_decode('b'.'WQ1'),base64_decode('Y29uc'.'3'.'R'.'hbnQ='),base64_decode('aGFzaF9ob'.'WF'.'j'),base64_decode('c3'.'RyY21w'),base64_decode('ZX'.'hwbG'.'9'.'kZQ='.'='),base64_decode('bWt0'.'aW'.'1l'),base64_decode('d'.'GltZQ'.'=='),base64_decode('Z'.'Xh'.'w'.'bG9kZQ=='),base64_decode('cG'.'Fjaw=='),base64_decode('bWQ1'),base64_decode('Y2'.'9uc3RhbnQ='),base64_decode('aGFz'.'aF9o'.'bWFj'),base64_decode('c3RyY21w'),base64_decode('ZX'.'hwbG9'.'kZQ=='),base64_decode('bW'.'t0a'.'W1l'),base64_decode('dGltZQ=='),base64_decode(''.'aW'.'5fY'.'XJy'.'YXk='),base64_decode('cHJlZ'.'1'.'9y'.'ZXB'.'sYWNlX2Nh'.'bGxiYW'.'Nr'),base64_decode('c3'.'R'.'y'.'d'.'G'.'9sb3dlc'.'g=='),base64_decode(''.'cHJlZ1'.'9tYXRjaA='.'='),base64_decode(''.'c'.'H'.'JlZ19y'.'ZXBsYWN'.'lX'.'2'.'Nh'.'bG'.'xi'.'YWNr'));if(!function_exists(__NAMESPACE__.'\\___1116484788')){function ___1116484788($_1447872515){static $_1690394349= false; if($_1690394349 == false) $_1690394349=array('TE'.'FORElOR'.'19'.'NVVRBVE'.'9SX'.'01PRE'.'U=','Zm'.'lsd'.'GVy','I'.'UlE','UFVCTEl'.'DX'.'1BBR0VfU'.'kVBQ0'.'hF'.'RA==',''.'T'.'E'.'FORElOR19QV'.'UJMSU'.'NfUEFHRV9SRUFD'.'SEVE','c2VsZW'.'N0','SUQ=','VFlQRQ'.'==','Zml'.'sdGVy','SUQ'.'=','P'.'U'.'FDV'.'ElWRQ==','Tg==','ZmlsdG'.'Vy',''.'IUlE','SUQ=','dHlwZ'.'Q='.'=','VF'.'l'.'QR'.'Q==','U'.'FVCTElDX1NJ'.'VEVf'.'UkVBQ'.'0hFRA==',''.'TEFOR'.'ElO'.'R19QVU'.'JM'.'SUNf'.'U'.'0lURV9'.'SRUFDSEVE','b'.'GF'.'u'.'Z'.'GluZw==','b25MYW'.'5ka'.'W5nUHVi'.'bGljY'.'XRpb2'.'4'.'=','aWQ'.'=','REI=','U0VMRUNUIF'.'ZBTFV'.'FIEZST00gYl9v'.'cHRpb24'.'gV0hFUkU'.'gT'.'kFN'.'RT0'.'nf'.'lBBUkFNX0ZJTklTSF9E'.'QVRFJ'.'yB'.'BT'.'kQ'.'gT'.'U'.'9'.'EVU'.'x'.'FX0lE'.'PSd'.'tYWluJy'.'B'.'BTkQgU'.'0'.'l'.'URV'.'9JRC'.'BJUyBOVU'.'xM',''.'VkFMVU'.'U'.'=','Lg==',''.'SCo=',''.'Yml0cml'.'4','TElDRU5TRV9LR'.'Vk=','c2hhMjU2','M'.'j'.'AxOC0wMS0wMQ='.'=',''.'MjAxO'.'C0wMS'.'0wMQ='.'=',''.'LQ'.'==','TElDRU5TRV9FWF'.'BJUkVE','TEFO'.'REl'.'OR19'.'MSUNFTlNFX'.'0'.'VYUElS'.'RUQ=','RE'.'I=',''.'U'.'0VMRUNUI'.'FZBTFV'.'FIEZST00gYl9vcHRpb'.'24gV0hFUkUgTkFNRT0nflBBU'.'kFNX0Z'.'JTklT'.'SF'.'9EQVRF'.'JyBBTkQgT'.'U9EV'.'UxFX0lEPSdtYWluJ'.'yBB'.'TkQgU0'.'lURV9JRCBJU'.'yBOVUxM','VkF'.'M'.'V'.'UU=','Lg==','S'.'Co'.'=','Yml0cml4','TEl'.'DRU5'.'T'.'RV9L'.'RV'.'k=','c2hhMjU2','Mj'.'A'.'xO'.'C0wMS0wMQ==','MjA'.'xOC0wMS0wMQ==','LQ==','TElD'.'R'.'U5TRV9FWFBJUkVE',''.'T'.'EFORElOR19MSUNFT'.'lNFX0VYUElS'.'RUQ'.'=','Q'.'UNUSVZF','W'.'Q==',''.'UFVCT'.'ElD','WQ'.'==','REFURV'.'9QVUJMS'.'UM'.'=','REFURV9NT0RJRl'.'k'.'=','Q'.'UNU'.'SVZF','WQ==',''.'LyhbXDsiXXs'.'wLDF'.'9KSN'.'ibG9jay'.'hbXGRdK'.'y'.'koW1wmIl17'.'MCwxf'.'SkvaX'.'M=',''.'c2'.'VsZWN0','SUQ=','UF'.'VCTElD',''.'UEF'.'S'.'RU5U'.'X'.'0lE','Q09E'.'RQ='.'=','U'.'0'.'9SV'.'A==','QUNUSVZ'.'F','QU5D'.'SE9'.'S','Q'.'UN'.'DR'.'VN'.'T','Q'.'09OVE'.'V'.'O'.'VA==',''.'Zmls'.'dGV'.'y','TEl'.'E',''.'PURFTEVU'.'RUQ=','Tg='.'=',''.'S'.'UQ=','UFVCTE'.'lD','W'.'Q==','Q'.'09OV'.'EVOVA==','L2hy'.'ZWZcPSIjY2F0'.'Y'.'W'.'xvZyh'.'FbGVtZW5'.'0fFNlY3'.'Rpb24pKF'.'tc'.'ZF0'.'rKSIv'.'aQ'.'==','aH'.'J'.'lZj'.'0i','Ig==',''.'Q09O'.'V'.'E'.'V'.'OV'.'A='.'=','UEF'.'SRU5UX0'.'lE','UE'.'FS'.'RU5UX0lE','SUQ'.'=','U09'.'SVA==','U09'.'SVA='.'=','QUNUSVZ'.'F','Q'.'UNUSVZF','QU5'.'DSE'.'9S','QU5DSE9S','Q'.'UND'.'RVNT','QUND'.'RVNT','Q09OVEV'.'O'.'V'.'A==','Q09OV'.'EVOV'.'A==','UEFSRU5UX0lE',''.'Q09'.'OVE'.'VOVA==','TEl'.'E',''.'Q0'.'9ERQ==','Q0'.'9ERQ==','U'.'09'.'SV'.'A==','U0'.'9'.'SVA'.'==','QU'.'5D'.'S'.'E'.'9'.'S',''.'Q'.'U5'.'DSE9S','Q'.'UNUSVZF','QUN'.'U'.'SVZF','QUN'.'DRVNT','QUNDRVNT','Q09OVE'.'VOVA'.'==',''.'Q0'.'9OVEV'.'OV'.'A='.'=','UEFSRU5'.'UX0lE','Q09OVEVOVA='.'=','Q0'.'9'.'OVEVOVA==','Q09'.'OVE'.'VOVA==','I2Jsb'.'2'.'Nr',''.'I2Jsb2Nr',''.'Q09'.'OVEV'.'O'.'VA==');return base64_decode($_1690394349[$_1447872515]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____1878841766'][0](___1116484788(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_2112637760= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___1116484788(1) => array( ___1116484788(2) => $landing->getId())))){ $landing->getError()->addError( ___1116484788(3), Loc::getMessage(___1116484788(4))); return false;}  $_285786526= Site::getList(array( ___1116484788(5) => array( ___1116484788(6), ___1116484788(7)), ___1116484788(8) => array( ___1116484788(9) => $landing->getSiteId(), ___1116484788(10) => ___1116484788(11)))); if($_572994561= $_285786526->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___1116484788(12) => array( ___1116484788(13) => $_572994561[___1116484788(14)]), ___1116484788(15) => $_572994561[___1116484788(16)]))){ $landing->getError()->addError( ___1116484788(17), Loc::getMessage(___1116484788(18))); return false;}}  $_644223557= new Event(___1116484788(19), ___1116484788(20), array( ___1116484788(21) => $landing->getId())); $_644223557->send(); foreach($_644223557->getResults() as $_458533433){ if($_458533433->getResultType() == EventResult::ERROR){ foreach($_458533433->getErrors() as $_147186388){ $landing->getError()->addError( $_147186388->getCode(), $_147186388->getMessage());} return false;}} $_446609394= $GLOBALS[___1116484788(22)]->Query(___1116484788(23), true); if($_285786526= $_446609394->Fetch()){ $_1451671079= $_285786526[___1116484788(24)]; list($_1559108092, $_680094295)= $GLOBALS['____1878841766'][1](___1116484788(25), $_1451671079); $_382815608= $GLOBALS['____1878841766'][2](___1116484788(26), $_1559108092); $_1299147550= ___1116484788(27).$GLOBALS['____1878841766'][3]($GLOBALS['____1878841766'][4](___1116484788(28))); $_1819582922= $GLOBALS['____1878841766'][5](___1116484788(29), $_680094295, $_1299147550, true); if($GLOBALS['____1878841766'][6]($_1819582922, $_382815608) !== min(42,0,14)){ $_680094295= ___1116484788(30);}} else{ $_680094295= ___1116484788(31);} if(!empty($_680094295)){ $_2079417344= $GLOBALS['____1878841766'][7](___1116484788(32), $_680094295); $_241470861= $GLOBALS['____1878841766'][8]((1316/2-658), min(242,0,80.666666666667),(776-2*388), $_2079417344[round(0+0.25+0.25+0.25+0.25)], $_2079417344[round(0+0.5+0.5+0.5+0.5)], $_2079417344[(168*2-336)]); if($_241470861 <= $GLOBALS['____1878841766'][9]()){ $landing->getError()->addError( ___1116484788(33), Loc::getMessage(___1116484788(34))); return false;}} $_446609394= $GLOBALS[___1116484788(35)]->Query(___1116484788(36), true); if($_285786526= $_446609394->Fetch()){ $_1451671079= $_285786526[___1116484788(37)]; list($_1559108092, $_680094295)= $GLOBALS['____1878841766'][10](___1116484788(38), $_1451671079); $_382815608= $GLOBALS['____1878841766'][11](___1116484788(39), $_1559108092); $_1299147550= ___1116484788(40).$GLOBALS['____1878841766'][12]($GLOBALS['____1878841766'][13](___1116484788(41))); $_1819582922= $GLOBALS['____1878841766'][14](___1116484788(42), $_680094295, $_1299147550, true); if($GLOBALS['____1878841766'][15]($_1819582922, $_382815608) !==(1152/2-576)){ $_680094295= ___1116484788(43);}} else{ $_680094295= ___1116484788(44);} if(!empty($_680094295)){ $_2079417344= $GLOBALS['____1878841766'][16](___1116484788(45), $_680094295); $_241470861= $GLOBALS['____1878841766'][17](min(230,0,76.666666666667), min(96,0,32),(1348/2-674), $_2079417344[round(0+0.5+0.5)], $_2079417344[round(0+1+1)], $_2079417344[min(148,0,49.333333333333)]); if($_241470861 <= $GLOBALS['____1878841766'][18]()){ $landing->getError()->addError( ___1116484788(46), Loc::getMessage(___1116484788(47))); return false;}}  Block::publicationBlocks($landing); $_170237211= new \Bitrix\Main\Type\DateTime; $_285786526= Landing::update($landing->getId(), array( ___1116484788(48) => ___1116484788(49), ___1116484788(50) => ___1116484788(51), ___1116484788(52) => $_170237211, ___1116484788(53) => false));  if($_285786526->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____1878841766'][19]($landing->getSiteId(), $_2112637760)){ $_2112637760[]= $landing->getSiteId(); Site::update($landing->getSiteId(), array( ___1116484788(54) => ___1116484788(55)));} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_1957419642= $landing->getId(); $_42522705= array(); $_1997932290= array(); $_219265370= array(); $_984823616= ___1116484788(56); $_285786526= Block::getList(array( ___1116484788(57) => array( ___1116484788(58), ___1116484788(59), ___1116484788(60), ___1116484788(61), ___1116484788(62), ___1116484788(63), ___1116484788(64), ___1116484788(65), ___1116484788(66)), ___1116484788(67) => array( ___1116484788(68) => $landing->getId(), ___1116484788(69) => ___1116484788(70)))); while($_572994561= $_285786526->fetch()){ $_42522705[$_572994561[___1116484788(71)]]= $_572994561;}  foreach($_42522705 as $_1603188231 => $_936723494){ if($_936723494[___1116484788(72)] != ___1116484788(73)){  $_936723494[___1116484788(74)]= $GLOBALS['____1878841766'][20]( ___1116484788(75), function($_433025872){ return ___1116484788(76). PublicAction\Utils::getIblockURL( $_433025872[round(0+2)], $GLOBALS['____1878841766'][21]($_433025872[round(0+1)])). ___1116484788(77);}, $_936723494[___1116484788(78)]); $_1728584051= isset($_42522705[$_936723494[___1116484788(79)]])? $_42522705[$_936723494[___1116484788(80)]][___1116484788(81)]: min(50,0,16.666666666667); if($_1728584051){ Block::update($_1728584051, array( ___1116484788(82) => $_936723494[___1116484788(83)], ___1116484788(84) => $_936723494[___1116484788(85)], ___1116484788(86) => $_936723494[___1116484788(87)], ___1116484788(88) => $_936723494[___1116484788(89)], ___1116484788(90) => $_936723494[___1116484788(91)])); unset($_42522705[$_936723494[___1116484788(92)]]);  File::replaceInBlock( $_1728584051, File::getFilesFromBlockContent( $_1603188231, $_936723494[___1116484788(93)]));} else{ $_285786526= Block::add(array( ___1116484788(94) => $_1957419642, ___1116484788(95) => $_936723494[___1116484788(96)], ___1116484788(97) => $_936723494[___1116484788(98)], ___1116484788(99) => $_936723494[___1116484788(100)], ___1116484788(101) => $_936723494[___1116484788(102)], ___1116484788(103) => $_936723494[___1116484788(104)], ___1116484788(105) => $_936723494[___1116484788(106)])); if($_285786526->isSuccess()){ $_1728584051= $_285786526->getId(); Block::update($_1603188231, array( ___1116484788(107) => $_1728584051));  File::addToBlock( $_1728584051, File::getFilesFromBlockContent( $_1603188231, $_936723494[___1116484788(108)]));}} if($GLOBALS['____1878841766'][22]($_984823616, $_936723494[___1116484788(109)])){ $_1997932290[$_1728584051]= $_936723494[___1116484788(110)];} $_219265370[$_1603188231]= $_1728584051; unset($_42522705[$_1603188231]);}}  foreach($_42522705 as $_1603188231 => $_936723494){ Block::delete($_1603188231);}  foreach($_1997932290 as $_1603188231 => $_555311950){ $_555311950= $GLOBALS['____1878841766'][23]( $_984823616, function($_1734972725) use($_219265370){ if(isset($_219265370[$_1734972725[round(0+0.4+0.4+0.4+0.4+0.4)]])){ return $_1734972725[round(0+0.2+0.2+0.2+0.2+0.2)]. ___1116484788(111). $_219265370[$_1734972725[round(0+0.4+0.4+0.4+0.4+0.4)]]. $_1734972725[round(0+0.6+0.6+0.6+0.6+0.6)];} else{ return $_1734972725[round(0+0.5+0.5)]. ___1116484788(112). $_1734972725[round(0+0.4+0.4+0.4+0.4+0.4)]. $_1734972725[round(0+0.75+0.75+0.75+0.75)];}}, $_555311950); Block::update($_1603188231, array( ___1116484788(113) => $_555311950));}}}}?>